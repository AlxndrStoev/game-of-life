{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { BoardComponent } from './components/board/board.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/notification.service\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"./components/board/board.component\";\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(notificationService) {\n      this.notificationService = notificationService;\n      this.title = 'game-of-life';\n      this.ratio = 35;\n      this.evolving = false;\n      this.hasLiveCells = false;\n      this.MIN_RATIO = 10;\n      this.MAX_RATIO = 70;\n      this.form = new FormGroup({\n        ratio: new FormControl('', [Validators.min(this.MIN_RATIO), Validators.max(this.MAX_RATIO)])\n      });\n    }\n\n    ngOnInit() {\n      this.form.controls.ratio.setValue(this.ratio);\n    }\n\n    reset() {\n      this.board.reset();\n    }\n\n    randomize() {\n      this.board.randomize();\n    }\n\n    next() {\n      this.board.next();\n    }\n\n    auto() {\n      this.board.auto();\n    }\n\n    playPause() {\n      if (this.evolving) {\n        this.board.pause();\n      } else {\n        this.board.auto();\n      }\n    }\n\n    onEvolve(evolving) {\n      this.evolving = evolving;\n    }\n\n    onHasLiveCells(hasLiveCells) {\n      this.hasLiveCells = hasLiveCells;\n    }\n\n    setRatio() {\n      if (this.form.controls.ratio.value === this.ratio) {\n        this.notificationService.info('Ratio already set to current value.');\n        return;\n      }\n\n      if (this.form.controls.ratio.value % 1 !== 0) {\n        this.ratio = Math.floor(this.form.controls.ratio.value);\n        this.notificationService.warning(`Board ratio can't be a decimal number!`);\n        this.form.controls.ratio.setValue(Math.floor(this.form.controls.ratio.value));\n        return;\n      }\n\n      if (this.form.controls.ratio.value < this.MIN_RATIO) {\n        this.ratio = this.MIN_RATIO;\n        this.form.controls.ratio.setValue(this.MIN_RATIO);\n        this.notificationService.warning(`Minimum ratio must be ${this.MIN_RATIO}!`);\n        return;\n      } else {\n        this.ratio = this.form.controls.ratio.value;\n      }\n\n      if (this.form.controls.ratio.value > this.MAX_RATIO) {\n        this.ratio = this.MAX_RATIO;\n        this.form.controls.ratio.setValue(this.MAX_RATIO);\n        this.notificationService.warning(`Maximum ratio must be ${this.MAX_RATIO}!`);\n        return;\n      } else {\n        this.ratio = this.form.controls.ratio.value;\n      }\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.NotificationService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    viewQuery: function AppComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(BoardComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.board = _t.first);\n      }\n    },\n    decls: 29,\n    vars: 7,\n    consts: [[1, \"actions\"], [\"mat-ripple\", \"\", \"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"disabled\", \"click\"], [1, \"material-icons\"], [\"mat-ripple\", \"\", \"mat-raised-button\", \"\", 3, \"click\"], [\"mat-ripple\", \"\", \"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\"], [\"formControlName\", \"ratio\", \"matInput\", \"\", \"type\", \"number\"], [\"type\", \"submit\", \"at-ripple\", \"\", \"mat-raised-button\", \"\", \"color\", \"accent\"], [3, \"gridSize\", \"evolving\", \"hasLiveCells\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵelementStart(1, \"span\");\n        i0.ɵɵtext(2, \"Conway's \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(3, \"Game of Life\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 0);\n        i0.ɵɵelementStart(5, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_5_listener() {\n          return ctx.reset();\n        });\n        i0.ɵɵelementStart(6, \"i\", 2);\n        i0.ɵɵtext(7, \"stop\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8, \" RESET \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_9_listener() {\n          return ctx.randomize();\n        });\n        i0.ɵɵelementStart(10, \"i\", 2);\n        i0.ɵɵtext(11, \"auto_fix_high\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \" RANDOMIZE \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_13_listener() {\n          return ctx.next();\n        });\n        i0.ɵɵelementStart(14, \"i\", 2);\n        i0.ɵɵtext(15, \"skip_next\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \" NEXT \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_17_listener() {\n          return ctx.playPause();\n        });\n        i0.ɵɵelementStart(18, \"i\", 2);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_21_listener() {\n          return ctx.setRatio();\n        });\n        i0.ɵɵelementStart(22, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(23, \"mat-label\");\n        i0.ɵɵtext(24, \"BOARD RATIO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 8);\n        i0.ɵɵtext(27, \"SET RATIO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"app-board\", 9);\n        i0.ɵɵlistener(\"evolving\", function AppComponent_Template_app_board_evolving_28_listener($event) {\n          return ctx.onEvolve($event);\n        })(\"hasLiveCells\", function AppComponent_Template_app_board_hasLiveCells_28_listener($event) {\n          return ctx.onHasLiveCells($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", !ctx.hasLiveCells);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"disabled\", ctx.evolving || !ctx.hasLiveCells);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", !ctx.hasLiveCells);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.evolving ? \"pause_circle_outline\" : \"play_circle_outline\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.evolving ? \"PAUSE\" : \"PLAY\", \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"gridSize\", ctx.ratio);\n      }\n    },\n    directives: [i2.MatButton, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i4.MatFormField, i4.MatLabel, i3.DefaultValueAccessor, i5.MatInput, i3.NumberValueAccessor, i3.NgControlStatus, i3.FormControlName, i6.BoardComponent],\n    styles: [\"[_nghost-%COMP%]{display:flex;padding-top:3rem;align-items:center;padding-bottom:3rem;background:#1d2024;flex-direction:column;min-height:calc(100vh - 6rem)}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{min-width:80%;text-align:center;font-size:2.5rem;margin-bottom:2rem;letter-spacing:1.5px;color:#f0eeee}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]:after{content:\\\"\\\";width:100%;height:1px;display:block;margin-top:1.5rem;background:black}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#8a8989}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:0 .3rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{align-items:center;display:flex}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, [_nghost-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:.9rem;margin-top:1.5rem}[_nghost-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{color:#ffffff8e}[_nghost-%COMP%]   app-board[_ngcontent-%COMP%]{margin-top:1rem;border-radius:5px;border:3px solid black}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}